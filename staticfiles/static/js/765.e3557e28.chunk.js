"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[765],{1689:function(e,t,n){var s=n(5861),r=n(7757),a=n.n(r),i=(n(2791),n(6871)),c=n(2806),l=n(184);t.Z=function(e){var t=(0,i.s0)(),n=!!localStorage.getItem("authTokens"),r=function(){var r=(0,s.Z)(a().mark((function s(r){return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r.stopPropagation(),n){s.next=5;break}t("/login"),s.next=9;break;case 5:return s.next=7,c.Z.post("like-tweet/".concat(e.tweetId));case 7:201===s.sent.status&&(e.setFakeLikeNumber((function(e){return e+1})),e.setLikeClicked(!0));case 9:case"end":return s.stop()}}),s)})));return function(e){return r.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)("i",{className:"fa fa-heart-o",onClick:r}),(0,l.jsx)("p",{children:e.likes})]})}},5810:function(e,t,n){n(4164);var s=n(184),r=function(e){return(0,s.jsx)("div",{className:"error_message__container",children:(0,s.jsxs)("div",{className:"error-message__modal",children:[e.errorMessage,(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"btn",onClick:e.onClose,children:"Close"})})]})})};document.getElementById("root"),t.Z=r},4312:function(e,t,n){var s=n(5861),r=n(7757),a=n.n(r),i=n(2791),c=n(3504),l=n(29),o=n(5854),u=n(654),d=n(2806),p=n(184);t.Z=function(e){var t=(0,i.useRef)(""),n=(0,i.useContext)(u.V).userData;function r(){return(r=(0,s.Z)(a().mark((function n(){var s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("tweets/".concat(e.tweetId,"/reply"),{text:t.current.value});case 2:if(201!==(s=n.sent).status){n.next=7;break}return e.setNewReply(s.data.id),t.current.value="",n.abrupt("return");case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,p.jsxs)("div",{className:l.Z["reply-section"],children:[(0,p.jsx)("div",{className:l.Z["close-reply__section"],children:(0,p.jsx)("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(){return e.hideReply()},style:{cursor:"pointer"}})}),(0,p.jsxs)("div",{className:l.Z.user__info,children:[(0,p.jsx)("div",{className:l.Z["user-info__left"],children:(0,p.jsx)("img",{src:e.picture,alt:"Profile"})}),(0,p.jsxs)("div",{className:l.Z["user-info__right"],children:[(0,p.jsxs)("div",{className:l.Z.user__names,children:[(0,p.jsx)("p",{id:l.Z.fullname,children:"".concat(e.firstname," ").concat(e.lastname)}),(0,p.jsx)("p",{id:l.Z.username,children:e.username}),(0,p.jsx)("p",{children:"\xb7"}),(0,p.jsx)("p",{id:l.Z["time-created"],children:e.timeCreated})]}),(0,p.jsx)("div",{className:l.Z["tweet-content"],children:e.content})]})]}),(0,p.jsxs)("form",{id:"add-reply",className:l.Z["add-reply__form"],onSubmit:function(s){s.preventDefault(),n?t.current.value.trim().length>0&&function(){r.apply(this,arguments)}():e.onError((0,p.jsxs)("p",{children:["Please ",(0,p.jsx)(c.rU,{to:"/login",children:"login"})," before adding a tweet."]}))},children:[(0,p.jsxs)("div",{className:l.Z["add-reply__upper"],children:[n?(0,p.jsx)("img",{className:l.Z["add-reply__image"],src:n.picture,alt:"Default profile"}):(0,p.jsx)("img",{className:l.Z["add-reply__image"],src:o,alt:"Default profile"}),(0,p.jsx)("textarea",{className:l.Z["add-reply__input"],placeholder:"Tweet your reply",ref:t,name:"reply"})]}),(0,p.jsx)("div",{className:l.Z["add-reply__lower"],children:(0,p.jsx)("div",{className:l.Z["btn-container"],children:(0,p.jsx)("button",{className:"btn",type:"submit",children:"Reply"})})})]})]})}},1684:function(e,t,n){var s=n(5861),r=n(885),a=n(7757),i=n.n(a),c=n(2791),l=n(6871),o=n(2806),u=n(184);t.Z=function(e){var t=(0,l.s0)(),n=!!localStorage.getItem("authTokens"),a=(0,c.useState)(null),d=(0,r.Z)(a,2),p=d[0],f=d[1],m=(0,c.useState)(!1),_=(0,r.Z)(m,2),h=_[0],x=_[1],k=(0,c.useState)(!1),y=(0,r.Z)(k,2),j=y[0],v=y[1],Z=(0,c.useState)(null),w=(0,r.Z)(Z,2),g=w[0],N=w[1],b=(0,c.useCallback)((0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("bookmarks/".concat(e.tweetId,"/check"));case 3:200===t.sent.status&&f(!0),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.clear(),404===t.t0.response.status&&f(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e.tweetId]);(0,c.useEffect)((function(){n?(x(!0),b(),v(!0)):(x(!0),v(!0))}),[g,b,n]);var R=function(){var r=(0,s.Z)(i().mark((function s(r){return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r.stopPropagation(),n||t("/login"),s.next=4,o.Z.post("tweets/".concat(e.tweetId,"/create-bookmark"));case 4:201===s.sent.status&&N(Date.now());case 6:case"end":return s.stop()}}),s)})));return function(e){return r.apply(this,arguments)}}(),C=function(){var t=(0,s.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,o.Z.delete("bookmarks/".concat(e.tweetId,"/delete"));case 3:204===t.sent.status&&(N(Date.now()),e.isBookmarkPage&&e.setNeedRefreshTweetList(Date.now()));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return p&&h&&j?(0,u.jsx)("i",{className:"fas fa-save fa-lg","aria-hidden":"true",onClick:C}):!p&&h&&j?(0,u.jsx)("i",{className:"far fa-save fa-lg","aria-hidden":"true",onClick:R}):void 0}},2333:function(e,t,n){n.d(t,{Z:function(){return j}});var s=n(2724),r=n(5861),a=n(885),i=n(7757),c=n.n(i),l=n(2791),o=n(6871),u=n(1689),d=n(1277),p=n(4312),f=n(5810),m=n(629),_=n(1684),h=n(2806),x=n(184),k=function(e){var t,n="#/get-profile/".concat(e.username),i=(0,o.s0)(),k=(0,l.useState)(!1),y=(0,a.Z)(k,2),j=y[0],v=y[1],Z=(0,l.useState)(!1),w=(0,a.Z)(Z,2),g=w[0],N=w[1],b=(0,l.useState)(null),R=(0,a.Z)(b,2),C=R[0],I=R[1],S=(0,l.useState)(null),L=(0,a.Z)(S,2),P=L[0],E=L[1],D=(0,l.useState)(e.likes),B=(0,a.Z)(D,2),T=B[0],V=B[1],M=!!localStorage.getItem("authTokens"),F=(0,l.useState)(!1),U=(0,a.Z)(F,2),O=U[0],H=U[1],X=(0,l.useState)(!1),Y=(0,a.Z)(X,2),q=Y[0],A=Y[1],G=(0,l.useState)(null),W=(0,a.Z)(G,2),J=W[0],K=W[1],z=(0,l.useState)(null),Q=(0,a.Z)(z,2)[1],$=function(){H(!1),document.getElementById("add-reply__container").classList.add("hidden")},ee=function(){var t=(0,r.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),v(!0),!M){t.next=5;break}return t.next=5,h.Z.get("like/".concat(e.tweetId,"/check")).then((function(e){if(200!==e.status)throw e.status;I((0,x.jsx)(d.Z,{likeId:e.data.id,likes:T,setFakeLikeNumber:V,setLikeClicked:E}))})).catch((function(){console.clear(),I((0,x.jsx)(u.Z,{tweetId:e.tweetId,likes:T,setFakeLikeNumber:V,setLikeClicked:E}))}));case 5:v(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){ee()}),[P]),t=M?(0,x.jsx)("div",{title:"Like",children:!j&&g&&C}):(0,x.jsxs)("div",{title:"Like",children:[(0,x.jsx)("i",{className:"fa fa-heart-o",onClick:function(){return i("/login")}}),(0,x.jsx)("p",{children:e.likes})]});return(0,x.jsxs)(l.Fragment,{children:[q&&(0,x.jsx)(f.Z,{errorMessage:J,onClose:function(){K(null),A(!1)}}),(0,x.jsx)(m.Z,{isVisible:O,onOverlayClick:function(){return $()}}),(0,x.jsx)("section",{id:"add-reply__container",className:"add-reply__container hidden",children:(0,x.jsx)(p.Z,{onError:function(e){K(e),A(!0)},tweetId:e.tweetId,username:e.user,firstname:e.firstname,lastname:e.lastname,timeCreated:e.timeCreated,picture:e.picture,content:e.content,hideReply:$,setNewReply:Q})}),(0,x.jsxs)("div",{className:s.Z.tweet,onClick:function(){i("/tweets/".concat(e.tweetId))},children:[(0,x.jsx)("div",{className:s.Z["tweet-left"],children:(0,x.jsx)("img",{src:e.picture,alt:"Profile",style:{objectFit:"cover"}})}),(0,x.jsxs)("div",{className:s.Z["tweet-right"],children:[(0,x.jsx)("div",{className:s.Z["tweet-right__top"],children:(0,x.jsxs)("div",{className:s.Z["user-info"],children:[(0,x.jsxs)("a",{id:s.Z["user-name"],href:n,children:[e.firstname," ",e.lastname]}),(0,x.jsx)("a",{id:s.Z.username,href:n,children:e.username}),(0,x.jsx)("a",{id:s.Z["tweet-dot"],href:n,children:"\xb7"}),(0,x.jsx)("a",{id:s.Z["tweet__time-created"],href:n,children:e.timeCreated})]})}),(0,x.jsx)("div",{className:s.Z["tweet-content"],children:e.content}),(0,x.jsxs)("div",{className:s.Z["tweet-right__bottom"],children:[(0,x.jsxs)("div",{title:"Reply",onClick:function(e){e.stopPropagation(),H(!0),document.getElementById("add-reply__container").classList.remove("hidden")},children:[(0,x.jsx)("i",{className:"fa fa-reply"}),(0,x.jsx)("p",{children:e.reply})]}),t,(0,x.jsx)("div",{title:"Save",children:(0,x.jsx)(_.Z,{tweetId:e.tweetId,setHasError:A,setErrorMessage:K,setNeedRefreshTweetList:e.setNeedRefresh,isBookmarkPage:e.isBookmarkPage})})]})]})]})]})},y=n(4457),j=function(e){return e.tweetList?(0,x.jsx)("section",{id:"tweet-list",className:s.Z["tweet-list"],children:0!==e.tweetList.length?e.tweetList.map((function(t){return(0,x.jsx)(k,{tweetId:t.id,firstname:t.user.firstname,lastname:t.user.lastname,username:t.user.username,picture:t.user.picture,timeCreated:(0,y.Z)(t.date_created.created_ago,t.date_created.created),content:t.content,reply:t.tweetReply,retweet:t.tweetRetweets,likes:t.likes.length,isBookmarkPage:e.isBookmarkPage,setNeedRefresh:e.setNeedRefresh},t.id)})):(0,x.jsx)("p",{className:"p-info--center",children:"No posts yet!"})}):(0,x.jsx)("section",{className:s.Z["no-tweet"],children:(0,x.jsx)("p",{children:"No tweet was found, Please check your internet connection."})})}},1277:function(e,t,n){var s=n(5861),r=n(7757),a=n.n(r),i=(n(2791),n(6871)),c=n(2806),l=n(184);t.Z=function(e){var t=(0,i.s0)(),n=!!localStorage.getItem("authTokens"),r=function(){var r=(0,s.Z)(a().mark((function s(r){return a().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r.stopPropagation(),n){s.next=5;break}t("/login"),s.next=9;break;case 5:return s.next=7,c.Z.delete("remove-like/".concat(e.likeId));case 7:204===s.sent.status&&(e.setFakeLikeNumber((function(e){return e-1})),e.setLikeClicked(!1));case 9:case"end":return s.stop()}}),s)})));return function(e){return r.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)("i",{className:"fa fa-heart",style:{color:"red"},onClick:r}),(0,l.jsx)("p",{children:e.likes})]})}},7765:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var s=n(5861),r=n(885),a=n(7757),i=n.n(a),c=n(2791),l=n(1422),o=n(3504),u=n(2724),d=n(5854),p=n(6706),f=n(654),m=n(2806),_=n(184),h=function(e){var t=(0,c.useRef)(""),n=!!localStorage.getItem("authTokens"),a=(0,c.useContext)(f.V).userData,l=(0,c.useContext)(p.S).serverURL,h=(0,c.useState)(null),x=(0,r.Z)(h,2),k=x[0],y=x[1];(0,c.useEffect)((function(){}),[k]);function j(){return(j=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.post("".concat(l,"compose/tweet"),{content:t.current.value});case 2:if(201!==e.sent.status){e.next=6;break}return t.current.value="",e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,_.jsxs)("form",{id:"add-tweet",className:u.Z["add-tweet__form"],onSubmit:function(s){s.preventDefault(),n?t.current.value.trim().length>0&&function(){j.apply(this,arguments)}():(e.setIsOverlayVisible(!0),e.onError((0,_.jsxs)("p",{children:["Please ",(0,_.jsx)(o.rU,{to:"/login",children:"login"})," before adding a tweet."]})),y(Date.now()))},children:[(0,_.jsxs)("div",{className:u.Z["add-tweet__upper"],children:[(0,_.jsx)("img",{className:u.Z["add-tweet__image"],src:n&&a?a.picture:d,alt:"User profile",style:{objectFit:"cover"}}),(0,_.jsx)("textarea",{className:u.Z["add-tweet__input"],placeholder:"What's happening?",ref:t})]}),(0,_.jsx)("div",{className:u.Z["add-tweet__lower"],children:(0,_.jsx)("div",{className:u.Z["btn-container"],children:(0,_.jsx)("button",{className:"btn",type:"submit",children:"Tweet"})})})]})},x=n(2333),k=n(4569),y=n.n(k),j=n(5810),v=n(629),Z=function(e){var t=(0,c.useState)([]),n=(0,r.Z)(t,2),a=n[0],o=n[1],u=(0,c.useState)(!1),m=(0,r.Z)(u,2),k=m[0],Z=m[1],w=(0,c.useState)(null),g=(0,r.Z)(w,2),N=g[0],b=g[1],R=(0,c.useContext)(p.S).serverURL,C=(0,c.useContext)(f.V).userData,I=(0,c.useState)(!1),S=(0,r.Z)(I,2),L=S[0],P=S[1],E=function(){var e=(0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().get("".concat(R,"home"));case 2:200===(t=e.sent).status&&o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){E()}),[]);return(0,_.jsxs)(c.Fragment,{children:[(0,_.jsx)(v.Z,{onOverlayClick:function(){P(!1),Z(!1),b(!1),e.setIsMenuOpen(!1)},isVisible:L}),k&&(0,_.jsx)(j.Z,{errorMessage:N,onClose:function(){b(null),Z(!1),P(!1)}}),(0,_.jsxs)("div",{className:"main__middle-side",id:"homepage-middle",children:[(0,_.jsxs)("section",{className:"menu-btn__section",children:[(0,_.jsx)("img",{src:C?C.picture:d,alt:"Profile",onClick:function(){P(!0),e.onMenuClick()},style:{objectFit:"cover"}}),(0,_.jsxs)("div",{className:"ham-menu__btn",onClick:function(){P(!0),e.onMenuClick()},children:[(0,_.jsx)("div",{}),(0,_.jsx)("div",{}),(0,_.jsx)("div",{})]}),(0,_.jsx)("p",{children:e.pageName})]}),(0,_.jsx)(h,{onError:function(e){b(e),Z(!0)},setIsOverlayVisible:P}),(0,_.jsx)(x.Z,{tweetList:a,isBookmarkPage:!1})]}),(0,_.jsx)("div",{className:"main__right-side",children:(0,_.jsx)(l.Z,{})})]})}},29:function(e,t){t.Z={"reply-section":"Reply_reply-section__BbnCc",user__info:"Reply_user__info__UitVu","user-info__left":"Reply_user-info__left__qR7yp","user-info__right":"Reply_user-info__right__M3A23",user__names:"Reply_user__names__6lVy1","link--underline":"Reply_link--underline__IUIu6",fullname:"Reply_fullname__lqRK6","tweet-content":"Reply_tweet-content__GAg4T","add-reply__form":"Reply_add-reply__form__Y1WR7","add-reply__upper":"Reply_add-reply__upper__+Dp6b","add-reply__lower":"Reply_add-reply__lower__yX4-S","add-reply__image":"Reply_add-reply__image__MXGYn","add-reply__input":"Reply_add-reply__input__kTyOX","btn-container":"Reply_btn-container__+aEwk",hidden:"Reply_hidden__Z2HP2","reply-list":"Reply_reply-list__8iYMy",reply:"Reply_reply__4J+VP","reply-left":"Reply_reply-left__UpdBH","reply-right":"Reply_reply-right__V+8vO"}}}]);
//# sourceMappingURL=765.e3557e28.chunk.js.map